# web-kotiki


### Основные правила как работать с Git

* Перед тем как писать код и перед тем как отправлять написанный код в репозиторий GitHub сначала сделай Update! Так меньше риск конфликтов.
* Чтобы сделать Update, открой в WS окно Git (иконка в левом нижнем углу), нажми в Local на ветку develop, нажми на иконку стрелки вниз слева в баре иконок.
* Гит большой инструмент, всех случаев тут не описать. Если на каком-то пункте появляются непонятные сообщения или конфликты, пишите в чат, посоветуем или решим, что делать.

##### Как сделать коммит и пуш
* В отправляемом коде не должно быть красных ошибок - Errors. Сначала исправить, потом пушить. Желтые предупреждения - Warnings - допустимы.
* Чтобы отправить свой код в репозиторий GitHub, в окне Commit (иконка в левом верхнем углу) проставить галочки у файлов, которые хочешь отправить.
* Написать комментарий с пояснением, что было сделано. Без комментария коммит не создастся. При первом коммите надо будет указать имя и емейл, дальше они автоматически будут подставляться.
* Нажать Commit and Push. Если появилась всплывашка, что обнаружены желтые Warnings, нажать Commit and push anyway.
* Если обнаружились красные ошибки Warnings, их нужно исправить и только после этого пушить.
* Откроется окно с подтверждением пуша, проверить, что пуш из develop в origin:develop и нажать кнопку Push.
* На гитхабе в ветке develop должны появиться отправленные изменения.



### Настройка локального окружения:

1. Если не установлен на компе, то установить Node.js с оф сайта https://nodejs.org/en/download/. 
   Установка стандартная, ниче менять не надо, одна галочка на экране соглашения и остальное Next.
   После установки проверить что все установилось командами:
   node -v
   npm -v

2. Открыть в WebStorm наш проект, открыть местный терминал (иконка терминала в левом нижнем углу вторая сверху)

3. В терминале перейти в папку server командой: 
   cd server

4. Инициализировать npm в проекте командой: 
   npm init -y

   Если терминал WS не выполняет эти команды, может помочь пезапуск WS.
   Также можно через обычную консоль (Win-R cmd) перейти через cd в папку где лежит проект и выполнить их.

5. После этого все необходимые библиотеки устанавливаются в этой же папке командой: 
   npm install express pg pg-hstore sequelize cors dotenv
   
   Список пакетов из этой команды:
   - express - фреймворк для бэкенда, 
   - pg и pg-hstore - пакеты для postgres, 
   - sequelize - ОРМ для работы с БД, 
   - cors - пакет для обращения из браузера к серверу, 
   - dotenv - пакет для настройки переменных окружения.

6. После этого там же устанавливается библиотека nodemon при помощи команды: 
   npm install -D nodemon

7. Устанавливаем СУБД PostgreSQL отсюда https://www.enterprisedb.com/downloads/postgres-postgresql-downloads
   Установка стандартная, ближе к концу нужно дважды ввести пароль root к СУБД, остальное Next. Устанавливается долго.

8. После установки в Пуске найти программу pgAdmin и запустить. В папке Базы данных создать новую БД с названием web-kotiki

9. В WS в терминале перейти в папку server командой:
   cd server

10. Запустить сервер nodemon командой:
    npm run dev

11. В терминале после логов в конце должно появиться сообщение Server started on port 5000.

12. В pgAdmin кликнуть правой кнопкой мыши на названии БД web-kotiki и выбрать в меню Refresh. 
    После обновления должны появиться таблицы в разделе Схемы/Таблицы (Schemas/Tables).

13. Чтобы остановить сервер nodemon, нужно в терминале нажать Ctrl+Shift+C и потом подтвердить Y.
